# Применение законов UX (Laws of UX, Джон Яблонски)

Документ описывает, как принципы из книги «Законы UX-дизайна» (Jon Yablonski, рус. пер. БХВ-Петербург, 2022) учтены в приложении FreeTips.

---

## 1. Закон Якоба (Jakob's Law)

**Суть:** Пользователи ожидают, что приложение ведёт себя так же, как знакомые им продукты.

**Применение в приложении:**
- Нижняя навигация с подписями (`labelVisibilityMode="labeled"`) — привычный паттерн для мобильных приложений.
- Экран входа: форма с полями «Адрес сервера» и «API-ключ», кнопка «Войти» — стандартный сценарий авторизации.
- Разделы «Главная», «Выводы», «Операции», «Ссылки», «Профиль» соответствуют типичной структуре личного кабинета.

---

## 2. Закон Фиттса (Fitts's Law)

**Суть:** Время достижения цели зависит от расстояния до цели и её размера. Цели должны быть достаточно большими и не слишком близко друг к другу.

**Применение в приложении:**
- Минимальный размер зоны касания **48 dp** (Material Design): кнопки «Войти», «Сбросить», «Сохранить адрес», «Выйти» и элементы нижней навигации имеют `minHeight` не менее 48 dp или используют стандартные Material-компоненты с этим минимумом.
- Расстояние между соседними целями **≥ 8 dp** (`spacing_sm`): между кнопками на экране входа и между пунктами списков.
- Поле ввода и подпись к нему образуют одну логическую цель (TextInputLayout с hint).

**Ресурсы:** `dimens.xml` — `touch_target_min = 48dp`; отступы между кнопками — `spacing_sm` / `spacing_md`.

---

## 3. Закон Хика (Hick's Law)

**Суть:** Время принятия решения растёт с увеличением числа и сложности вариантов. Нужно снижать когнитивную нагрузку.

**Применение в приложении:**
- Экран входа: только два поля и два действия («Войти» и «Сбросить») — минимум необходимых решений.
- Нижняя навигация: 5 пунктов — стандартное число для главных разделов.
- Списки операций и выводов без лишних фильтров на одном экране; при необходимости фильтрацию можно вынести в отдельный шаг.

---

## 4. Закон Миллера (Miller's Law)

**Суть:** Рабочая память ограничена; контент нужно разбивать на понятные блоки (chunking), а не опираться на «магическое число 7» для лимита пунктов меню.

**Применение в приложении:**
- Контент разбит на блоки: карточка баланса, затем секции «Статистика», «Последние операции» и т.д. с заголовками и отступами (`card_to_section_margin`, `section_title_to_content`).
- Списки операций/выводов: каждая запись в отдельной карточке (`item_transaction`, `item_payout`) с чёткой иерархией (тип, сумма, дата, статус).
- Профиль: блок «Профиль» (логин, email, имя) и блок «Адрес сервера» визуально разделены.

---

## 5. Закон Постеля (Postel's Law)

**Суть:** Быть консервативным в выдаче и либеральным во вводе: принимать разные форматы, нормализовать данные, давать понятную обратную связь.

**Применение в приложении:**
- Адрес сервера: при сохранении выполняется `trim()` и нормализация (удаление завершающего слэша), принимаются адреса с `http` и `https`.
- API-ключ: обрезка пробелов в начале и конце; проверка минимальной длины с явным сообщением об ошибке.
- Сообщения об ошибках: «Неверный API-ключ», «Нет связи с сервером...», «Введите API-ключ из личного кабинета (не короче 16 символов)» — конкретные и подсказывают, что делать.

---

## 6. Правило «пик и конец» (Peak-End Rule)

**Суть:** Оценка опыта в основном определяется моментом пика и концом, а не средней нагрузкой по времени.

**Применение в приложении:**
- Успешный вход: перед переходом в Main показывается краткое позитивное сообщение (Toast), фиксирующее успешное завершение (положительный «конец»).
- Профиль: после сохранения адреса показывается Toast «Адрес сохранён» — явное подтверждение действия в конце сценария.

---

## 7. Эффект эстетики в юзабилити (Aesthetic-Usability Effect)

**Суть:** Эстетичный интерфейс чаще воспринимается как более удобный.

**Применение в приложении:**
- Единая тёмная тема с акцентом primary (золотой), согласованные `colors.xml` и `themes.xml`.
- Типографика и отступы по `dimens.xml` и `DESIGN_AUDIT.md`: единые размеры текста и отступы между блоками.
- Карточки с скруглением и тенями (`Widget.FreeTips.Card`), виртуальная карта с читаемой иерархией.

---

## 8. Эффект фон Ресторфф (Von Restorff Effect)

**Суть:** Выделяющийся среди остальных элемент запоминается лучше.

**Применение в приложении:**
- Основное действие «Войти» выделено цветом (primary), вторичное «Сбросить и ввести заново» — TextButton.
- На главной баланс и основная карточка визуально доминируют; кнопки вывода/операций оформлены вторично.

---

## 9. Закон Теслера (Tesler's Law)

**Суть:** У системы есть не устранимая сложность; её нужно не скрывать, а переносить туда, где с ней проще справиться.

**Применение в приложении:**
- Ввод API-ключа и адреса сервера — неизбежный шаг для безопасности; он явно вынесен на отдельный экран входа и в «Профиль», без лишних ступеней.
- Сложность выбора «куда ввести ключ» снята подсказкой: «Скопируйте ключ в ЛК на сайте: Настройки → API ключ».

---

## 10. Порог Доэрти (Doherty Threshold)

**Суть:** Отклик системы < ~400 мс поддерживает ощущение непрерывного взаимодействия; пользователь не должен ждать без обратной связи.

**Применение в приложении:**
- При нажатии «Войти» сразу показывается индикатор загрузки (`progress.visibility = VISIBLE`), кнопка блокируется — отклик интерфейса мгновенный.
- Таймауты сети (OkHttp) ограничены (10 с), чтобы не создавать «подвисаний» без ответа.

---

## 11. Ответственное использование (глава «С властью приходит ответственность»)

**Суть:** Психологические приёмы не должны обманывать пользователя или подталкивать к невыгодным действиям.

**Применение в приложении:**
- Нет навязчивых подписок, скрытых согласий или двусмысленных формулировок.
- Выход и сброс ключа явно подписаны («Выйти (очистить API-ключ)», «Сбросить и ввести заново»).
- Ошибки и ограничения (например, минимальная длина API-ключа) сообщаются открыто.

---

## Сводка по файлам

| Область            | Файлы / места применения |
|--------------------|---------------------------|
| Размеры целей (Фиттс) | `dimens.xml` (`touch_target_min`), кнопки в `activity_api_key_entry.xml`, `fragment_profile.xml` |
| Отступы между целями | `spacing_sm` (8 dp) между кнопками и элементами списков |
| Нормализация ввода (Постель) | `ApiKeyEntryActivity.kt`, `ProfileFragment.kt` — trim и нормализация URL |
| Пик и конец        | Toast при успешном входе и при сохранении адреса |
| Chunking (Миллер)  | Секции в `fragment_home.xml`, `fragment_payouts.xml`, `fragment_transactions.xml`, `fragment_profile.xml` |
| Привычные паттерны (Якоб) | `activity_main.xml` (BottomNavigation), форма входа |
